<% content_for :custom_js do %>
  <script type="text/javascript">
    $(document).ready(function(){
      $('.remove-song').hide();
    
      $('.setlist_song').hover(
        function(){ $(this).find('.remove-song').show(); },
        function(){ $(this).find('.remove-song').hide(); }
      );
    });
  </script>
<% end %>

<div id="setlist_page" class="container" style="padding: 60px 15px 0">
  <div class="page-header">
    <h1>Setlist</h1>
  </div>

  <div class="setlist_actions pull-right text-center">
    <p>
      <em>Missing something? Use the buttons below!</em>
    </p>
    <button id="add_song_hook" class="btn btn-primary">Add a song</button>
    <p style="margin-top:10px;">or</p>
    <button id="add_batch_hook" class="btn btn-success">Add a batch of songs</button>
  </div>
  
  <% if @setlist.empty? %>
    <p class="lead" id="empty_setlist_msg">
      The setlist is empty! Try adding songs below.
    </p>
  <% else %>
    <div class="setlist_container">
      <div class="setlist_paper">
        <ul class="list-unstyled setlist_paper">
          <% @setlist.songs.each do |s| %>
            <li class="setlist_song">
              <h3>
                <%= s.author %> - <%= s.title %>
                <span class="glyphicon glyphicon-remove remove-song" aria-hidden="true">
              </h3>
            </span>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
    
    <h3 style="margin-top: 25px;">
      <em>
        <strong style="color: rgb(51, 122, 183)"><%= @setlist.count %></strong> songs.
      </em>
    </h3>
  <% end %>  
  
  <div class="add_new_song_div hide">
    <%= bootstrap_form_for @new_song, url: add_song_to_setlist_path, layout: :inline do |f| %>
      <%= f.text_field :author, id: 'author' %>
      <%= f.text_field :title, id: 'title' %>
      <%= f.button 'Add song', :id => 'add_song_button', :class=> 'btn btn-primary' %>
    <% end %>
  </div>
</div>